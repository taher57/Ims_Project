{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../services/file.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/flex-layout/flex\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/toolbar\";\nfunction FileUploadComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function FileUploadComponent_div_8_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeAlert());\n    });\n    i0.ɵɵtext(3, \" \\u00D7 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5, \"Success\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class FileUploadComponent {\n  constructor(_http, fileService, router) {\n    this._http = _http;\n    this.fileService = fileService;\n    this.router = router;\n    this.fileUploadUrl = \"http://localhost:8080/product/upload\";\n    this.data = [];\n    this.showAlert = false;\n  }\n  ngOnInit() {}\n  selectFile(event) {\n    //  console.log(event);\n    this.file = event.target.files[0];\n    console.log(this.file);\n  }\n  uploadFile() {\n    let formData = new FormData();\n    formData.append(\"file\", this.file);\n    this._http.post(this.fileUploadUrl, formData).subscribe(response => {\n      console.log(\"Excel file is uploaded successfully\");\n      this.showAlert = true;\n    });\n  }\n  closeAlert() {\n    this.showAlert = false;\n  }\n}\nFileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) {\n  return new (t || FileUploadComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.FileService), i0.ɵɵdirectiveInject(i3.Router));\n};\nFileUploadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FileUploadComponent,\n  selectors: [[\"app-file-upload\"]],\n  decls: 9,\n  vars: 1,\n  consts: [[\"fxLayoutAlign\", \"center center\", \"fxFlexFill\", \"\", 1, \"navbar\", \"navbar\"], [\"fxFlex\", \"25\"], [\"color\", \"primary\"], [\"fxLayoutAlign\", \"stretch\", \"fxLayout\", \"column\", 1, \"form\"], [\"type\", \"file\", 3, \"change\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin-top\", \"auto\", 3, \"click\"], [\"class\", \"card-footer\", 4, \"ngIf\"], [1, \"card-footer\"], [1, \"alert\", \"alert-success\"], [1, \"close\", 3, \"click\"]],\n  template: function FileUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"mat-card\", 1)(2, \"mat-toolbar\", 2);\n      i0.ɵɵtext(3, \"File Upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"input\", 4);\n      i0.ɵɵlistener(\"change\", function FileUploadComponent_Template_input_change_5_listener($event) {\n        return ctx.selectFile($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function FileUploadComponent_Template_button_click_6_listener() {\n        return ctx.uploadFile();\n      });\n      i0.ɵɵtext(7, \"Upload\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, FileUploadComponent_div_8_Template, 6, 0, \"div\", 6);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n    }\n  },\n  dependencies: [i4.NgIf, i5.DefaultLayoutDirective, i5.DefaultLayoutAlignDirective, i5.FlexFillDirective, i5.DefaultFlexDirective, i6.MatButton, i7.MatCard, i8.MatToolbar],\n  styles: [\".navbar[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{\\r\\n  padding: 0px;\\r\\n\\r\\n}\\r\\n.form[_ngcontent-%COMP%]{\\r\\n  padding: 20px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlsZS11cGxvYWQvZmlsZS11cGxvYWQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7O0FBRWQ7QUFDQTtFQUNFLGFBQWE7QUFDZiIsInNvdXJjZXNDb250ZW50IjpbIi5uYXZiYXIgIG1hdC1jYXJke1xyXG4gIHBhZGRpbmc6IDBweDtcclxuXHJcbn1cclxuLmZvcm17XHJcbiAgcGFkZGluZzogMjBweDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;IASIA,8BAAyC;IAE3BA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAC1BA,wBACJ;IAAAA,iBAAS;IACTA,8BAAQ;IAAAA,uBAAO;IAAAA,iBAAS;;;ACHlC,OAAM,MAAOC,mBAAmB;EAO9BC,YAAqBC,KAAgB,EAASC,WAAuB,EAAUC,MAAa;IAAvE,UAAK,GAALF,KAAK;IAAoB,gBAAW,GAAXC,WAAW;IAAsB,WAAM,GAANC,MAAM;IAJrF,kBAAa,GAAC,sCAAsC;IACpD,SAAI,GAAG,EAAE;IACT,cAAS,GAAG,KAAK;EAIhB;EACDC,QAAQ,IAEP;EAIDC,UAAU,CAACC,KAAU;IACnB;IACD,IAAI,CAACC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACjCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,IAAI,CAAC;EACvB;EAGAK,UAAU;IAER,IAAIC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC7BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAC,IAAI,CAACR,IAAI,CAAC;IACjC,IAAI,CAACN,KAAK,CAACe,IAAI,CAAC,IAAI,CAACC,aAAa,EAACJ,QAAQ,CAAC,CAACK,SAAS,CAAEC,QAAa,IAAI;MACrET,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;MAClD,IAAI,CAACS,SAAS,GAAC,IAAI;IACrB,CAAC,CACF;EACJ;EACCC,UAAU;IACV,IAAI,CAACD,SAAS,GAAG,KAAK;EACvB;;;mBAnCYrB,mBAAmB;AAAA;;QAAnBA,mBAAmB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXhC5B,8BAAqE;MAGpCA,2BAAW;MAAAA,iBAAc;MAEtDA,8BAA8D;MACrDA;QAAA,OAAW6B,sBAAkB;MAAA,EAAC;MAArC7B,iBAAoD;MACpDA,iCAAyF;MAA/DA;QAAA,OAAQ6B,gBAAY;MAAA;MAA2C7B,sBAAM;MAAAA,iBAAS;MAE1GA,oEAOM;MAERA,iBAAW;;;MATiBA,eAAc;MAAdA,oCAAc","names":["i0","FileUploadComponent","constructor","_http","fileService","router","ngOnInit","selectFile","event","file","target","files","console","log","uploadFile","formData","FormData","append","post","fileUploadUrl","subscribe","response","showAlert","closeAlert","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\taher.m\\Desktop\\IMS_Project\\FrontEnd\\src\\app\\file-upload\\file-upload.component.html","C:\\Users\\taher.m\\Desktop\\IMS_Project\\FrontEnd\\src\\app\\file-upload\\file-upload.component.ts"],"sourcesContent":["<nav class=\"navbar navbar\" fxLayoutAlign=\"center center\" fxFlexFill >\n  <mat-card fxFlex=\"25\">\n\n    <mat-toolbar color=\"primary\">File Upload</mat-toolbar>\n\n    <div fxLayoutAlign=\"stretch\" fxLayout=\"column\" class=\"form\"  >\n      <input (change) =\"selectFile($event)\" type=\"file\" />\n      <button mat-raised-button (click)=uploadFile() color=\"primary\" style=\"margin-top: auto;\">Upload</button>\n    </div>\n    <div class=\"card-footer\" *ngIf=showAlert>\n      <div class=\"alert alert-success\">\n          <button (click)=\"closeAlert()\" class=\"close\">\n              &times;\n          </button>\n          <strong>Success</strong>\n      </div>\n    </div>\n\n  </mat-card>\n</nav>\n","import { Component, OnInit } from '@angular/core';\nimport { File } from '../model/file';\nimport { FileService } from '../services/file.service';\nimport { Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.css']\n})\nexport class FileUploadComponent implements OnInit {\n\n\n  fileUploadUrl=\"http://localhost:8080/product/upload\";\n  data = [];\n  showAlert = false;\n\n  constructor( private _http:HttpClient,private fileService:FileService, private router:Router ) {\n\n   }\n  ngOnInit(): void {\n\n   }\n\n  file: any;\n\n  selectFile(event: any) {\n    //  console.log(event);\n   this.file = event.target.files[0];\n   console.log(this.file);\n  }\n\n\n  uploadFile()\n  {\n    let formData = new FormData()\n    formData.append(\"file\",this.file)\n    this._http.post(this.fileUploadUrl,formData).subscribe((response :any) => {\n        console.log(\"Excel file is uploaded successfully\");\n        this.showAlert=true;\n      }\n    )\n }\n  closeAlert() {\n  this.showAlert = false;\n }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}